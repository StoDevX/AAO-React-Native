{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:base",
    // automatically merge linting, testing, @types, and :digest PRs
    ":automergeDigest",
    ":automergeLinters",
    ":automergeTesters",
    ":automergeTypes",
    // go ahead and update Docker FROM sources, and pin them with a hash
    ":docker",
    "docker:pinDigests",
    // update lockfile versions weekly
    ":maintainLockFilesWeekly",
    // keep all dependency versions pinned - except peerDependencies
    ":pinAllExceptPeerDependencies",
    // pin github-actions with a digest, to avoid surprises when they update
    "helpers:pinGitHubActionDigests",
    // > wait until the npm package is three days old before raising the 
    // > update. This prevents npm unpublishing a package you already upgraded to.
    "npm:unpublishSafe",
    // include ts-jest and @types/jest in jestjs grouped updates
    "group:jestPlusTSJest",
    "group:jestPlusTypes"
  ],
  "packageRules": [
    // require manual approval for new major versions of these packages
    {
      "matchPackageNames": [
        "react-markdown",
        "react-native",
        "metro-react-native-babel-preset",
        "@types/react-test-renderer",
        "react-test-renderer",
        "@types/react",
        "react"
      ],
      "matchUpdateTypes": ["major"],
      "dependencyDashboardApproval": true
    },
    // disable renovate for the app/build.gradle react-native and webkit dependencies
    {
      "matchPackageNames": ["com.facebook.react:react-native", "org.webkit:android-jsc"],
      "enabled": false
    },
    // avoid changing from "^range" to "exact" versions in our module packages
    {
      "matchPaths": ["modules/**/package.json"],
      "rangeStrategy": "bump"
    }
  ]
}
